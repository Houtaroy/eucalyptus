var I=Object.defineProperty,y=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var d=(n,o,i)=>o in n?I(n,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[o]=i,c=(n,o)=>{for(var i in o||(o={}))w.call(o,i)&&d(n,i,o[i]);if(s)for(var i of s(o))k.call(o,i)&&d(n,i,o[i]);return n},f=(n,o)=>y(n,R(o));import{B as v}from"./TableImg.81c8647f.js";import{j as N}from"./BasicForm.9f9d1425.js";import{u as g}from"./useTable.58f676b6.js";import{u as A}from"./uniqueId.195db580.js";import{a as S,ay as G,o as L,h as O,n as m,z as b,k as l,B as P}from"./index.22b0f670.js";import"./index.e6899fd0.js";import"./Checkbox.9ea2f65b.js";import"./index.2279836f.js";import"./index.1575f4f2.js";import"./eagerComputed.bf21e7e9.js";import"./useForm.ae6a5675.js";import"./index.8f5f8265.js";import"./index.ef91b7e2.js";import"./index.f2bdea16.js";import"./useSize.db33a410.js";import"./useWindowSizeFn.7341961c.js";import"./useContentViewHeight.339c4f2a.js";import"./ArrowLeftOutlined.64371a5a.js";import"./index.d80d1a3f.js";import"./transButton.bac65e0e.js";import"./index.31ae1630.js";import"./index.372f9a54.js";import"./index.c4ec8421.js";import"./uuid.2b29000c.js";import"./index.7175f62e.js";import"./_baseIteratee.50bb3834.js";import"./get.9e854f98.js";import"./DeleteOutlined.d5ca8ebc.js";import"./index.22575899.js";import"./useRefs.a2c95200.js";import"./Form.17486a43.js";import"./Col.35934fe0.js";import"./useFlexGapSupport.b40f0b61.js";import"./index.23d10b2c.js";import"./FullscreenOutlined.abc9bfd2.js";import"./index.65ddfc64.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.a048c517.js";import"./index.1fb349fa.js";import"./fromPairs.84aabb58.js";import"./scrollTo.42e1bb96.js";import"./index.be667380.js";/* empty css              *//* empty css              */import"./index.770768a4.js";import"./index.44f22cbb.js";import"./index.7026b45b.js";import"./download.5e0b5ba6.js";import"./base64Conver.08b9f4ec.js";import"./index.7c52c84e.js";import"./index.06908fa8.js";import"./uniqBy.9000d3e7.js";const V=P(" \u65B0\u589E\u53C2\u6570 "),Vt=S({__name:"CodeTemplateGroupPropertyTable",setup(n,{expose:o}){const[i,{getDataSource:p,setTableData:C}]=g({columns:[{title:"\u540D\u79F0",dataIndex:"name",editRow:!0},{title:"\u4EE3\u7801",dataIndex:"code",editRow:!0},{title:"\u7C7B\u578B",dataIndex:"type",editRow:!0,editComponent:"Select",editComponentProps:{options:[{label:"\u6574\u578B",value:"INTEGER"},{label:"\u6D6E\u70B9\u578B",value:"FLOAT"},{label:"\u5B57\u7B26\u4E32",value:"STRING"},{label:"\u5E03\u5C14",value:"BOOLEAN"},{label:"\u65E5\u671F\u65F6\u95F4",value:"LOCAL_DATE_TIME"}]}}],showIndexColumn:!1,actionColumn:{width:160,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}},pagination:!1});function E(){const t=p(),e=t.length+1,u={name:`\u53C2\u6570-${e}`,code:`propery-${e}`,type:"STRING",editable:!0,isNew:!0};t.push(u)}function r(t){const e=p(),u=e.findIndex(a=>a.code===t.code);e.splice(u,1)}function _(t){var e;(e=t.onEdit)==null||e.call(t,!0)}function B(t){var e;(e=t.onEdit)==null||e.call(t,!1),t.isNew&&r(t)}function h(t){var e;(e=t.onEdit)==null||e.call(t,!1,!0)}function D(t,e){return t.editable?[{label:"\u4FDD\u5B58",onClick:h.bind(null,t,e)},{label:"\u53D6\u6D88",popConfirm:{title:"\u662F\u5426\u53D6\u6D88\u7F16\u8F91",confirm:B.bind(null,t,e)}}]:[{label:"\u7F16\u8F91",onClick:_.bind(null,t)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u5220\u9664",confirm:r.bind(null,t,e)}}]}function F(t){C(t.map(e=>f(c({},e),{key:A("property-")})))}function T(){return p().map(t=>({name:t.name,code:t.code,type:t.type,description:t.description}))}return o({setProperties:F,getProperties:T}),(t,e)=>{const u=G("a-button");return L(),O("div",null,[m(l(v),{onRegister:l(i)},{action:b(({record:a,column:x})=>[m(l(N),{actions:D(a,x)},null,8,["actions"])]),_:1},8,["onRegister"]),m(u,{block:"",type:"dashed",onClick:E},{default:b(()=>[V]),_:1})])}}});export{Vt as default};
