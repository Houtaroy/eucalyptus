var s=(_,w,u)=>new Promise((E,e)=>{var b=t=>{try{a(u.next(t))}catch(l){e(l)}},n=t=>{try{a(u.throw(t))}catch(l){e(l)}},a=t=>t.done?E(t.value):Promise.resolve(t.value).then(b,n);a((u=u.apply(_,w)).next())});import{cV as D,aw as k,a as R,v as p,o as N,j as T,z as h,i as x,n as r,k as m,x as f,y as v}from"./index.22b0f670.js";import{S as d,a as B}from"./index.5bd47f94.js";import"./index.22575899.js";import{P as S}from"./index.8f5f8265.js";import $ from"./GeneratorDatabaseForm.ec878b80.js";import V from"./GeneratorTablesForm.de0b8cfb.js";import G from"./GeneratorCodeTemplateGroupForm.7d119750.js";import A from"./GeneratorPropertiesForm.f379d90c.js";import I from"./GeneratorResult.83d196e8.js";import{l as O,g as j,a as q}from"./index.c9dffdf6.js";import"./useRefs.a2c95200.js";import"./index.ef91b7e2.js";import"./index.f2bdea16.js";import"./useSize.db33a410.js";import"./eagerComputed.bf21e7e9.js";import"./useWindowSizeFn.7341961c.js";import"./useContentViewHeight.339c4f2a.js";import"./ArrowLeftOutlined.64371a5a.js";import"./index.d80d1a3f.js";import"./transButton.bac65e0e.js";import"./BasicForm.9f9d1425.js";/* empty css              *//* empty css              */import"./index.65ddfc64.js";import"./index.e6899fd0.js";import"./Checkbox.9ea2f65b.js";import"./index.2279836f.js";import"./index.c4ec8421.js";import"./index.31ae1630.js";import"./index.372f9a54.js";import"./index.770768a4.js";import"./get.9e854f98.js";import"./index.1575f4f2.js";import"./index.7175f62e.js";import"./_baseIteratee.50bb3834.js";import"./DeleteOutlined.d5ca8ebc.js";import"./Form.17486a43.js";import"./Col.35934fe0.js";import"./useFlexGapSupport.b40f0b61.js";import"./index.44f22cbb.js";import"./index.23d10b2c.js";import"./FullscreenOutlined.abc9bfd2.js";import"./index.7026b45b.js";import"./index.1fb349fa.js";import"./uuid.2b29000c.js";import"./download.5e0b5ba6.js";import"./base64Conver.08b9f4ec.js";import"./index.7c52c84e.js";import"./index.06908fa8.js";import"./uniqBy.9000d3e7.js";import"./useForm.ae6a5675.js";import"./TableImg.81c8647f.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.a048c517.js";import"./fromPairs.84aabb58.js";import"./scrollTo.42e1bb96.js";import"./index.be667380.js";import"./useTable.58f676b6.js";import"./index.c40db61b.js";import"./PlusOutlined.8fa2eb5c.js";import"./index.dba58466.js";import"./TabPane.0610752d.js";import"./index.d4328290.js";function z(_){return D.post({url:"/databases/tables",data:_})}const H={class:"step-form-form"},W={class:"mt-5"},J=R({__name:"index",setup(_){const w=p(null),u=p(null),E=p(null),e=p(0),b=p({}),n=p([]),a=p(null),t=p({});function l(){e.value--}function y(o){return s(this,null,function*(){var i;b.value=o,n.value=yield z(o),(i=w.value)==null||i.setTableData(n.value),e.value++})}function g(o){return s(this,null,function*(){n.value=o,e.value++})}function F(o){return s(this,null,function*(){var i,c;a.value=yield O(o),(i=u.value)==null||i.setSchemas(a.value.properties),t.value&&((c=u.value)==null||c.setFieldsValue(t.value)),e.value++})}function P(o){return s(this,null,function*(){var i,c;t.value=o,(i=a.value)!=null&&i.id&&((c=E.value)==null||c.setPreview(yield j(a.value.id,{tables:n.value,globalOptions:t.value})),e.value++)})}function C(){return s(this,null,function*(){var o;!((o=a.value)!=null&&o.id)||window.open("/generator-results/"+(yield q(a.value.id,{tables:n.value,globalOptions:t.value})))})}return(o,i)=>(N(),T(m(S),{title:"\u4EE3\u7801\u751F\u6210\u5668",contentBackground:"",contentClass:"p-4"},{default:h(()=>[x("div",H,[r(m(B),{current:e.value},{default:h(()=>[r(m(d),{title:"\u8FDE\u63A5\u6570\u636E\u5E93"}),r(m(d),{title:"\u9009\u62E9\u6570\u636E\u8868"}),r(m(d),{title:"\u9009\u62E9\u4EE3\u7801\u6A21\u677F\u7EC4"}),r(m(d),{title:"\u5168\u5C40\u53C2\u6570\u914D\u7F6E"}),r(m(d),{title:"\u4EE3\u7801\u751F\u6210\u7ED3\u679C"})]),_:1},8,["current"])]),x("div",W,[f(r($,{onNext:y},null,512),[[v,e.value===0]]),f(r(V,{ref_key:"tablesFormRef",ref:w,onNext:g,onPrev:l},null,512),[[v,e.value===1]]),f(r(G,{onPrev:l,onNext:F},null,512),[[v,e.value===2]]),f(r(A,{ref_key:"propertiesFormRef",ref:u,onPrev:l,onNext:P},null,512),[[v,e.value===3]]),f(r(I,{ref_key:"resultRef",ref:E,onPrev:l,onDownload:C},null,512),[[v,e.value===4]])])]),_:1}))}});var ot=k(J,[["__scopeId","data-v-3aa6d4df"]]);export{ot as default};
