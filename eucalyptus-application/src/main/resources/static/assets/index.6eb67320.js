var s=(_,w,u)=>new Promise((E,e)=>{var b=t=>{try{a(u.next(t))}catch(l){e(l)}},n=t=>{try{a(u.throw(t))}catch(l){e(l)}},a=t=>t.done?E(t.value):Promise.resolve(t.value).then(b,n);a((u=u.apply(_,w)).next())});import{cV as D,aw as k,a as R,v as p,o as N,j as T,z as h,i as x,n as r,k as m,x as f,y as v}from"./index.2084e233.js";import{S as d,a as B}from"./index.848427c0.js";import"./index.edd3476c.js";import{P as S}from"./index.b67d6c94.js";import $ from"./GeneratorDatabaseForm.cfd87868.js";import V from"./GeneratorTablesForm.b48b6289.js";import G from"./GeneratorCodeTemplateGroupForm.cf52a5e7.js";import A from"./GeneratorPropertiesForm.3236bbf4.js";import I from"./GeneratorResult.77a1a759.js";import{l as O,g as j,a as q}from"./index.b5c06baf.js";import"./useRefs.457ce1af.js";import"./index.b8e65b24.js";import"./index.21f688c3.js";import"./useSize.b225aeee.js";import"./eagerComputed.0999551d.js";import"./useWindowSizeFn.421f2d0c.js";import"./useContentViewHeight.2b6a2bfd.js";import"./ArrowLeftOutlined.03a40cf3.js";import"./index.10838f0f.js";import"./transButton.12ac9125.js";import"./BasicForm.21eafea1.js";/* empty css              *//* empty css              */import"./index.780e7163.js";import"./index.59027318.js";import"./Checkbox.ca2ecca2.js";import"./index.cb49e90e.js";import"./index.84aef3c6.js";import"./index.1e6d9c89.js";import"./index.f542522f.js";import"./index.6f377f37.js";import"./get.d07fa21b.js";import"./index.7acfb7b4.js";import"./index.ac001c45.js";import"./_baseIteratee.4371a21b.js";import"./DeleteOutlined.214888e8.js";import"./Form.c55c6f9f.js";import"./Col.f25059a0.js";import"./useFlexGapSupport.c2b52231.js";import"./index.42522d25.js";import"./index.2a7c146b.js";import"./FullscreenOutlined.8362b047.js";import"./index.f36943b4.js";import"./index.e1d3633a.js";import"./uuid.2b29000c.js";import"./download.5e047479.js";import"./base64Conver.08b9f4ec.js";import"./index.55fb022f.js";import"./index.4fefe693.js";import"./uniqBy.64ebcacd.js";import"./useForm.88884a65.js";import"./TableImg.e85007c0.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.701d39e5.js";import"./fromPairs.84aabb58.js";import"./scrollTo.8f622af1.js";import"./index.b83d2f07.js";import"./useTable.55ec82a8.js";import"./index.1d81dd4b.js";import"./PlusOutlined.0ccd6f9e.js";import"./index.295da945.js";import"./TabPane.94c20b7e.js";import"./index.861ad678.js";function z(_){return D.post({url:"/databases/tables",data:_})}const H={class:"step-form-form"},W={class:"mt-5"},J=R({__name:"index",setup(_){const w=p(null),u=p(null),E=p(null),e=p(0),b=p({}),n=p([]),a=p(null),t=p({});function l(){e.value--}function y(o){return s(this,null,function*(){var i;b.value=o,n.value=yield z(o),(i=w.value)==null||i.setTableData(n.value),e.value++})}function g(o){return s(this,null,function*(){n.value=o,e.value++})}function F(o){return s(this,null,function*(){var i,c;a.value=yield O(o),(i=u.value)==null||i.setSchemas(a.value.properties),t.value&&((c=u.value)==null||c.setFieldsValue(t.value)),e.value++})}function P(o){return s(this,null,function*(){var i,c;t.value=o,(i=a.value)!=null&&i.id&&((c=E.value)==null||c.setPreview(yield j(a.value.id,{tables:n.value,globalOptions:t.value})),e.value++)})}function C(){return s(this,null,function*(){var o;!((o=a.value)!=null&&o.id)||window.open("/generator-results/"+(yield q(a.value.id,{tables:n.value,globalOptions:t.value})))})}return(o,i)=>(N(),T(m(S),{title:"\u4EE3\u7801\u751F\u6210\u5668",contentBackground:"",contentClass:"p-4"},{default:h(()=>[x("div",H,[r(m(B),{current:e.value},{default:h(()=>[r(m(d),{title:"\u8FDE\u63A5\u6570\u636E\u5E93"}),r(m(d),{title:"\u9009\u62E9\u6570\u636E\u8868"}),r(m(d),{title:"\u9009\u62E9\u4EE3\u7801\u6A21\u677F\u7EC4"}),r(m(d),{title:"\u5168\u5C40\u53C2\u6570\u914D\u7F6E"}),r(m(d),{title:"\u4EE3\u7801\u751F\u6210\u7ED3\u679C"})]),_:1},8,["current"])]),x("div",W,[f(r($,{onNext:y},null,512),[[v,e.value===0]]),f(r(V,{ref_key:"tablesFormRef",ref:w,onNext:g,onPrev:l},null,512),[[v,e.value===1]]),f(r(G,{onPrev:l,onNext:F},null,512),[[v,e.value===2]]),f(r(A,{ref_key:"propertiesFormRef",ref:u,onPrev:l,onNext:P},null,512),[[v,e.value===3]]),f(r(I,{ref_key:"resultRef",ref:E,onPrev:l,onDownload:C},null,512),[[v,e.value===4]])])]),_:1}))}});var ot=k(J,[["__scopeId","data-v-3aa6d4df"]]);export{ot as default};
